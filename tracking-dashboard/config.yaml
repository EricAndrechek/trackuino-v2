# Description: Configuration file for the Balloon Tracking Dashboard

# Title of the dashboard
Title: Tracking Dashboard

# Description of the dashboard
Description: This dashboard shows the current location of the balloon and the path it has taken.

# Debug mode
# For production, set to false
Debug: true

Host: 0.0.0.0
Port: 5000

# dashboard page that shows the map
Map:
    # fully disables the map page and removes it from the navbar (this changes the default page to the status page)
    enabled: true

# database for host status updates to be tracked and tracker data to be stored
Database:
    # disabling the database means the map can only show new data as it arrives on APRS-IS
    # this makes it possible to run the dashboard without a server as a pure frontend application
    enabled: true

    user: user
    password: password
    host: localhost
    port: 5432
    database: database

# status page that shows each host (ground stations and servers)
Status:
    # fully disables the status page and removes it from the navbar
    enabled: true

    # if enabled, this will log the timestamp of status changes for each host to the database
    db-logging: true

    # this can either show whether each cloudflare tunnel is online or offline
    # or each host's system usage information or both

    Cloudflare:
        enabled: true

        # this can be used to un-hide deleted tunnels from the status page
        show-deleted: false

        # these can safely be made public as they are only used for the tunnel read
        CF-Tunnel-API-Key: mzQIKWbkzJ3gcZ5mFercBN1Ds42x0RJ-BgWj35uN
        CF-Tunnel-User-ID: a83636122a9deb90dc326f3f97dc891e

        # disable to prevent end-users from seeing the exposed tunnel URLs
        # can be overridden on a per-tunnel basis by setting the "expose" field under Hosts
        show-hostnames: true

    Netdata:
        enabled: true

        # the URL of the netdata server (this assumes you have netdata in a setup with one parent server and one or more child servers)
        Netdata-Host: https://status.umich-balloons.com

        # the default metrics to show for each netdata host, if they are available
        metrics:
            - cpu
            - memory
            - disk
            - network
    
    Hosts:
        # if not set, the server will attempt to intelligently map each cloudflare tunnel to a netdata host
        # if set, the server will only show the hosts specified here in the order listed

        # if a cloudflare tunnel does not have a corresponding netdata host, or a netdata host does not 
        # have a corresponding cloudflare tunnel, set the value to null or omit it entirely

        # if no cloudflare tunnel or netdata host is specified, the server will attempt to intelligently
        # set them based on the host's name. This is useful when setting a custom display order without
        # having to specify every host's details

        # additionally, for each host specified, you can set custom Cloudflare and Netdata options to override
        # the values set above. This is useful for hosts that may be under a different cloudflare account or
        # netdata server than the rest of the hosts, or if you want some hosts to display different metrics

        # # example:
        # -
        # name: Ground Station 1
        # cloudflare-tunnel: gs-1
        # - 
        # name: Ground Station 2
        # cloudflare-tunnel: gs-2
        # netdata-host: GS-2
        # expose: false
        # -
        # name: Server 1
        # cloudflare-tunnel: null
        # netdata-host: server-1
        # expose: true
        # Netdata:
        #     metrics:
        #         - cpu

    # if a host is found not defined in the config above, it will be shown with auto-generated values when true
    show-other-hosts: true
